<mat-accordion class="example-headers-align" multi>
    <mat-expansion-panel >
        <mat-expansion-panel-header>
          <mat-panel-title>
              <i class="material-icons ">place</i> 
          </mat-panel-title>
          <mat-panel-description i18n>
            Map Of Reports
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="col-md-12 ">
                  
          <div class="map-frame">
              <div id="maps"></div>
            </div>
      
      
      </div>
      </mat-expansion-panel>
</mat-accordion>




<section id="sample-table" class="mat-elevation-z8 bg-white">
            <mat-progress-bar *ngIf="loading" mode="buffer"></mat-progress-bar>
            <div class="pt-2"></div>
            <div class="row">
                <div class="col-md-12">
                        <span><a [routerLink]="['/anomaly']">{{titleAnomaly}}</a> > <a   href="javascript:void(0)">{{title}}</a></span>
    
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <h5> {{title}} </h5>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-sm col-xs">
                    <mat-form-field>
                        <input i18n-placeholder matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                    </mat-form-field>
                </div>
                <div class="col-md-6 col-sm col-xs">
                    <button (click)="addReport()"  class="btn-mobile"  style="float: right; background-color: #62B648; color:white" mat-raised-button color="accent" >
                        <mat-icon >add</mat-icon> {{btnAdd}}
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                <table mat-table [dataSource]="dataSource" matSort class="w-100">
                    <!--    <ng-container matColumnDef="select">-->
                    <!--      <th mat-header-cell *matHeaderCellDef>-->
                    <!--        <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">-->
                    <!--        </mat-checkbox>-->
                    <!--      </th>-->
                    <!--      <td mat-cell *matCellDef="let row">-->
                    <!--        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">-->
                    <!--        </mat-checkbox>-->
                    <!--      </td>-->
                    <!--    </ng-container>-->
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> ID </th>
                        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="image">
                        <th i18n mat-header-cell *matHeaderCellDef> Image </th>
                        <td mat-cell *matCellDef="let row">
                          <img *ngIf="row?.anomelyReportImage?.length>0" style="height: 40px; width:60px; cursor: pointer" (click)="openImageCarousel(row)" src="{{row?.anomelyReportImage[0]?.image?.url}}">
                          <img *ngIf="row?.anomelyReportImage?.length<=0" style="height: 40px; width:50px; cursor: pointer"  src="assets/images/no-photo.png">
                        </td>
                    </ng-container>
        
                    <ng-container matColumnDef="road">
                        <th i18n mat-header-cell *matHeaderCellDef> Road </th>
                        <td mat-cell *matCellDef="let row"> {{row.road}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="title">
                        <th i18n mat-header-cell *matHeaderCellDef>Name</th>
                        <td mat-cell *matCellDef="let row"> {{row.title}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="createdAt">
                        <th i18n mat-header-cell *matHeaderCellDef> Created Time </th>
                        <td mat-cell *matCellDef="let row"> {{row.createdAt}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="kp">
                        <th mat-header-cell *matHeaderCellDef> KP </th>
                        <td mat-cell *matCellDef="let row"> {{row.kp}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="latitude">
                        <th i18n mat-header-cell *matHeaderCellDef> Latitude </th>
                        <td mat-cell *matCellDef="let row"> {{row.latitude}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="longitude">
                        <th i18n mat-header-cell *matHeaderCellDef> Longtitude </th>
                        <td mat-cell *matCellDef="let row"> {{row.longitude}} </td>
                    </ng-container>
        
                    <ng-container matColumnDef="edit">
                        <th i18n mat-header-cell *matHeaderCellDef> Edit </th>
                        <td mat-cell *matCellDef="let row" >
                                <mat-icon style="cursor:pointer" (click)="editReport(row.id)" color="primary">edit</mat-icon>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="delete">
                        <th i18n mat-header-cell *matHeaderCellDef> Delete </th>
                        <td mat-cell *matCellDef="let row" >
                                <mat-icon style="cursor:pointer" color="warn" (click)="deleteReport(row)">delete</mat-icon>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="gis">
                        <th mat-header-cell *matHeaderCellDef> GISに追加 </th>
                        <td mat-cell *matCellDef="let row" >
                                <mat-icon style="cursor:pointer" color="primary" (click)="addToGIS(row)">addchart</mat-icon>
                        </td>
                    </ng-container>
        
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
                </table>
                </div>
            </div>
            <div class="row">
                <div class="col-md 12">
                    <div i18n class="pb20 pt20 text-center" *ngIf="dataSource.length <= 0">No Data</div>
                </div>
            </div>
            <div class="row">
                <div class="col-md 12">
                    <mat-paginator #paginator *ngIf="dataSource.length > 0" [pageSize]="pageSize" [showFirstLastButtons]="false" [length]="totalSize" [pageIndex]="currentPage" (page)="handlePage($event)"></mat-paginator>
                </div>
            </div>
</section>
  
    

       













<!--<section id="sample-table" class="mat-elevation-z8 bg-white">-->
<!--    <mat-progress-bar *ngIf="loading" mode="buffer" class="mb20"></mat-progress-bar>-->
<!--    <div class="ml20 mr20">-->
<!--        <div class="row">-->
<!--            <div class="column" style="padding-top: 10px">-->
<!--                <span><a [routerLink]="['/timeline']">タイムラインリスト</a> > <a  href="javascript:void(0)">イベントリスト</a></span>-->
<!--            </div>-->
<!--        </div>-->
<!--        <div fxLayout="row wrap" fxLayout.lt-sm="column" fxFlex="100" fxLayoutAlign="space-around stretch">-->

<!--            <div class="mt20 ml5 mb20" > <h5> {{title}} </h5>-->
<!--                <hr>-->
<!--                </div>-->
<!--        </div>-->
<!--        <div class="row mt20">-->
<!--            <div class="column">-->
<!--                <mat-form-field>-->
<!--                    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="フィルタ">-->
<!--                </mat-form-field>-->

<!--            </div>-->
<!--            <div class="column" style="margin-left:auto; padding-top: 10px">-->
<!--                <button (click)="addEvent('add')"  style="position: absolute; right: 50px;background-color: #62B648; color:white" mat-raised-button color="accent" >-->
<!--                    <mat-icon >add</mat-icon> イベントを追加-->
<!--                </button>-->
<!--            </div>-->
<!--        </div>-->
<!--        <table mat-table [dataSource]="dataSource" matSort class="w-100">-->
<!--            &lt;!&ndash;    <ng-container matColumnDef="select">&ndash;&gt;-->
<!--            &lt;!&ndash;      <th mat-header-cell *matHeaderCellDef>&ndash;&gt;-->
<!--            &lt;!&ndash;        <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">&ndash;&gt;-->
<!--            &lt;!&ndash;        </mat-checkbox>&ndash;&gt;-->
<!--            &lt;!&ndash;      </th>&ndash;&gt;-->
<!--            &lt;!&ndash;      <td mat-cell *matCellDef="let row">&ndash;&gt;-->
<!--            &lt;!&ndash;        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">&ndash;&gt;-->
<!--            &lt;!&ndash;        </mat-checkbox>&ndash;&gt;-->
<!--            &lt;!&ndash;      </td>&ndash;&gt;-->
<!--            &lt;!&ndash;    </ng-container>&ndash;&gt;-->
<!--            <ng-container matColumnDef="id">-->
<!--                <th mat-header-cell *matHeaderCellDef> ID </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.id}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="image">-->
<!--                <th mat-header-cell *matHeaderCellDef> 道路 </th>-->
<!--                <td mat-cell *matCellDef="let row">-->
<!--                  <img *ngIf="row?.eventImages.length>0" style="height: 40px; width:60px; cursor: pointer" (click)="openImageCarousel(row)" src="{{row?.eventImages[0]?.image?.url}}">-->
<!--                  <img *ngIf="row?.eventImages.length<=0" style="height: 40px; width:50px; cursor: pointer"  src="assets/images/no-photo.png">-->
<!--                </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="road">-->
<!--                <th mat-header-cell *matHeaderCellDef> 画像 </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.road}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="dateCreate">-->
<!--                <th mat-header-cell *matHeaderCellDef> 作成時間 </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.dateCreate}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="kp">-->
<!--                <th mat-header-cell *matHeaderCellDef> KP </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.kp}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="ido">-->
<!--                <th mat-header-cell *matHeaderCellDef> 緯度 </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.ido}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="keido">-->
<!--                <th mat-header-cell *matHeaderCellDef> 経度 </th>-->
<!--                <td mat-cell *matCellDef="let row"> {{row.keido}} </td>-->
<!--            </ng-container>-->

<!--            <ng-container matColumnDef="edit">-->
<!--                <th mat-header-cell *matHeaderCellDef> 編集 </th>-->
<!--                <td mat-cell *matCellDef="let row" >-->
<!--&lt;!&ndash;                    <button (click)="editEvent(row)" mat-mini-fab color="primary">&ndash;&gt;-->
<!--                        <mat-icon style="cursor:pointer" (click)="editEvent(row.id)" color="primary">edit</mat-icon>-->
<!--&lt;!&ndash;                    </button>&ndash;&gt;-->
<!--                </td>-->
<!--            </ng-container>-->
<!--&lt;!&ndash;            <ng-container matColumnDef="listReviewers">&ndash;&gt;-->
<!--&lt;!&ndash;                <th mat-header-cell *matHeaderCellDef> Reviewers </th>&ndash;&gt;-->
<!--&lt;!&ndash;                <td mat-cell *matCellDef="let row" >&ndash;&gt;-->
<!--&lt;!&ndash;                    <button (click)="listReviewers(row)" mat-mini-fab>&ndash;&gt;-->
<!--&lt;!&ndash;                        <mat-icon>list</mat-icon>&ndash;&gt;-->
<!--&lt;!&ndash;                    </button>&ndash;&gt;-->
<!--&lt;!&ndash;                </td>&ndash;&gt;-->
<!--&lt;!&ndash;            </ng-container>&ndash;&gt;-->
<!--            <ng-container matColumnDef="delete">-->
<!--                <th mat-header-cell *matHeaderCellDef> 削除 </th>-->
<!--                <td mat-cell *matCellDef="let row" >-->
<!--&lt;!&ndash;                    <button mat-mini-fab color="warn" (click)="deleteEvent(row)">&ndash;&gt;-->
<!--                        <mat-icon style="cursor:pointer" color="warn" (click)="deleteEvent(row)">delete</mat-icon>-->
<!--&lt;!&ndash;                    </button>&ndash;&gt;-->
<!--                </td>-->
<!--            </ng-container>-->

<!--            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>-->
<!--            <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>-->
<!--        </table>-->
<!--        <div class="pb20 pt20 text-center" *ngIf="dataSource.length <= 0">データなし</div>-->
<!--        <mat-paginator #paginator *ngIf="dataSource.length > 0" [pageSize]="pageSize" [showFirstLastButtons]="false" [length]="totalSize" [pageIndex]="currentPage" (page)="handlePage($event)"></mat-paginator>-->
<!--    </div>-->
<!--</section>-->
